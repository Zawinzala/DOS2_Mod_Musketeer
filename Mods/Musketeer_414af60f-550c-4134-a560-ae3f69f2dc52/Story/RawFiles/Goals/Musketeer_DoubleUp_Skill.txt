Version 1
SubGoalCombiner SGC_AND
INITSECTION

KBSECTION

// Special case when using Reload, as it restores the charges completely, and not by a fixed amount.
// Turns out, the skillbar doesn't update after updating/clearing tags.
// As it applies Statuses that cause a UI refresh, it's not a problem.
IF
CharacterUsedSkillOnTarget(_Character, _Target, "Projectile_Double_Up", _, _)
AND
DB_Musketeer_RifleEquipped(_Character, 1)
AND
DB_IsPlayer(_Character)
AND
CharacterGetEquippedItem(_Character, "Weapon" ,_Weapon)
THEN
//SetTag(_Target, "Musketeer_DoubleUp_FirstTarget");
DisplayText(_Target, "<font color='#00FF00' size='30'>Tagged as First Target</font>");

//IF
//CharacterKilledBy(_Target, _Character, _Character)
//AND
//IsTagged(_Target, "Musketeer_DoubleUp_FirstTarget", 1)
//THEN
//SetTag(_Character, "Musketeer_DoubleUp_KilledFirst");




//SetTag(_Character, "Musketeer_Reloading_State");
// I don't dislike this effect, so the whole UI refresh is not a big deal.



EXITSECTION

ENDEXITSECTION
ParentTargetEdge "Musketeer_Mod"
